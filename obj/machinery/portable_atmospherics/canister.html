<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/portable_atmospherics/canister - Psychonaut Station</title></head><body><header><a href="index.html">Psychonaut Station</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/portable_atmospherics/canister.html#var">Var Details</a> - <a href="obj/machinery/portable_atmospherics/canister.html#proc">Proc Details</a></header><main><h1>canister <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/portable_atmospherics.html">portable_atmospherics</a>/<a href="obj/machinery/portable_atmospherics/canister.html">canister</a></aside> <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 6"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/current_pressure_state">current_pressure_state</a></th><td>used while processing to update appearance only when its pressure state changes</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/filled">filled</a></th><td>How much the canister should be filled (recommended from 0 to 1)</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/gas_type">gas_type</a></th><td>Stores the path of the gas for mapped canisters</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/internal_cell">internal_cell</a></th><td>The powercell used to enable shielding</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/maximum_pressure">maximum_pressure</a></th><td>Maximum pressure allowed on initialize inside the canister, multiplied by the filled var</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/release_log">release_log</a></th><td>Used to log opening and closing of the valve, available on VV</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/release_pressure">release_pressure</a></th><td>Player controlled var that set the release pressure of the canister</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/shielding_powered">shielding_powered</a></th><td>Is shielding turned on/off</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/valve_open">valve_open</a></th><td>Is the valve open?</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#var/window">window</a></th><td>Window overlay showing the gas inside the canister</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/canister_break">canister_break</a></th><td>Handle canisters disassemble, releases the gas content in the turf</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/create_gas">create_gas</a></th><td>Called on Initialize(), fill the canister with the gas_type specified up to the filled level (half if 0.5, full if 1)
Used for canisters spawned in maps and by admins</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/eject_tank">eject_tank</a></th><td>Ejects tank from canister, if any</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/get_pressure_state">get_pressure_state</a></th><td>return the icon_state component for the canister's indicator light based on its current pressure reading</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/toggle_reaction_suppression">toggle_reaction_suppression</a></th><td>Turns hyper-noblium crystal reaction suppression in the canister on or off</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/toggle_shielding">toggle_shielding</a></th><td>Turns canister shielding on or off</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/toggle_valve">toggle_valve</a></th><td>Opens/closes the canister valve</td></tr><tr><th><a href="obj/machinery/portable_atmospherics/canister.html#proc/update_window">update_window</a></th><td>Updates the overlays of this canister based on its air contents</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/current_pressure_state"><aside class="declaration">var </aside>current_pressure_state <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 41"></a></h3><p>used while processing to update appearance only when its pressure state changes</p><h3 id="var/filled"><aside class="declaration">var </aside>filled <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 27"></a></h3><p>How much the canister should be filled (recommended from 0 to 1)</p><h3 id="var/gas_type"><aside class="declaration">var </aside>gas_type <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas.html">gas</a></aside> <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 31"></a></h3><p>Stores the path of the gas for mapped canisters</p><h3 id="var/internal_cell"><aside class="declaration">var </aside>internal_cell <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stock_parts.html">stock_parts</a>/<a href="obj/item/stock_parts/power_store.html">power_store</a></aside> <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 39"></a></h3><p>The powercell used to enable shielding</p><h3 id="var/maximum_pressure"><aside class="declaration">var </aside>maximum_pressure <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 29"></a></h3><p>Maximum pressure allowed on initialize inside the canister, multiplied by the filled var</p><h3 id="var/release_log"><aside class="declaration">var </aside>release_log <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L25"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 25"></a></h3><p>Used to log opening and closing of the valve, available on VV</p><h3 id="var/release_pressure"><aside class="declaration">var </aside>release_pressure <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 33"></a></h3><p>Player controlled var that set the release pressure of the canister</p><h3 id="var/shielding_powered"><aside class="declaration">var </aside>shielding_powered <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 37"></a></h3><p>Is shielding turned on/off</p><h3 id="var/valve_open"><aside class="declaration">var </aside>valve_open <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 23"></a></h3><p>Is the valve open?</p><h3 id="var/window"><aside class="declaration">var </aside>window <aside>– /<a href="image.html">image</a></aside> <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 35"></a></h3><p>Window overlay showing the gas inside the canister</p><h2 id="proc">Proc Details</h2><h3 id="proc/canister_break"><aside class="declaration">proc </aside>canister_break<aside>()  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L482"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 482"></a></aside></h3><p>Handle canisters disassemble, releases the gas content in the turf</p><h3 id="proc/create_gas"><aside class="declaration">proc </aside>create_gas<aside>()  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L334"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 334"></a></aside></h3><p>Called on Initialize(), fill the canister with the gas_type specified up to the filled level (half if 0.5, full if 1)
Used for canisters spawned in maps and by admins</p><h3 id="proc/eject_tank"><aside class="declaration">proc </aside>eject_tank<aside>(/<a href="mob.html">mob</a>/user, wire_pulsed)  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L746"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 746"></a></aside></h3><p>Ejects tank from canister, if any</p><h3 id="proc/get_pressure_state"><aside class="declaration">proc </aside>get_pressure_state<aside>()  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L533"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 533"></a></aside></h3><p>return the icon_state component for the canister's indicator light based on its current pressure reading</p><h3 id="proc/toggle_reaction_suppression"><aside class="declaration">proc </aside>toggle_reaction_suppression<aside>(/<a href="mob.html">mob</a>/user, wire_pulsed)  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L756"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 756"></a></aside></h3><p>Turns hyper-noblium crystal reaction suppression in the canister on or off</p><h3 id="proc/toggle_shielding"><aside class="declaration">proc </aside>toggle_shielding<aside>(/<a href="mob.html">mob</a>/user, wire_pulsed)  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L738"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 738"></a></aside></h3><p>Turns canister shielding on or off</p><h3 id="proc/toggle_valve"><aside class="declaration">proc </aside>toggle_valve<aside>(/<a href="mob.html">mob</a>/user, wire_pulsed)  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L694"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 694"></a></aside></h3><p>Opens/closes the canister valve</p><h3 id="proc/update_window"><aside class="declaration">proc </aside>update_window<aside>()  <a href="https://github.com/psychonaut-station/PsychonautStation/blob/30a25919a52fe076f0e3473807afc3ed92b547ed/code/modules/atmospherics/machinery/portable/canister.dm#L382"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/portable/canister.dm 382"></a></aside></h3><p>Updates the overlays of this canister based on its air contents</p></main><footer>tgstation.dme <a href="https://github.com/psychonaut-station/PsychonautStation/tree/30a25919a52fe076f0e3473807afc3ed92b547ed">30a2591</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>